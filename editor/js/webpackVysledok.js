(()=>{"use strict";var e={592:(e,t,n)=>{t.__esModule=!0,t.Background=void 0;var o=n(164),i=function(){function e(){this.backgroundImage=void 0,this.color="wheat"}return e.prototype.draw=function(){null!=this.backgroundImage?o.ctx.drawImage(this.backgroundImage,0,0,o.canvas.width,o.canvas.height):(o.ctx.beginPath(),o.ctx.fillStyle=this.color,o.ctx.fillRect(0,0,o.canvas.width,o.canvas.height))},e.prototype.delete=function(){this.backgroundImage=void 0,this.color="wheat"},e.prototype.setColor=function(e){this.color=e},e.prototype.getColor=function(){return this.color},e.prototype.getBackgroundImage=function(){return this.backgroundImage},e.prototype.setBackgroundImage=function(e){this.backgroundImage=e},e}();t.Background=i},829:(e,t,n)=>{t.__esModule=!0,t.editBackground=void 0;var o=n(164),i=n(792),a=void 0;t.editBackground=function(){(0,i.removeAllButtons)(),(0,i.removeAllListenersAdded)();var e=o.doc.createElement("input");e.type="checkbox",e.id="backgroundChecker";var t=o.doc.createElement("p");t.textContent="Is background an Image? (checkbox)";var n=o.doc.createElement("paragraph");n.id="hasBackgroundImageShower",n.textContent="no",e.oninput=function(){e.checked?o.doc.getElementById("hasBackgroundImageShower").textContent="yes":o.doc.getElementById("hasBackgroundImageShower").textContent="no"},o.doc.getElementById("tileEditingPlace").appendChild(t),o.doc.getElementById("tileEditingPlace").appendChild(e),o.doc.getElementById("tileEditingPlace").appendChild(n);var d=o.doc.createElement("input");d.id="backgroundImage",d.type="file",d.accept=".jpg, .jpeg, .png",d.textContent="Choose an Image!",d.oninput=function(){d.files.length>0?(a=new Image).src=URL.createObjectURL(d.files[0]):a=void 0},o.doc.getElementById("tileEditingPlace").appendChild(d);var r=o.doc.createElement("button");r.id="changeBackground",r.textContent="Change!",r.classList.add("btn"),r.classList.add("btn-dark"),o.doc.getElementById("buttonPlace").appendChild(r),o.doc.getElementById("changeBackground").addEventListener("click",(function(){e.checked?o.editor.getGame().getBackground().setBackgroundImage(a):o.editor.getGame().getBackground().delete(),o.editor.getGame().getBackground().setColor(c.value),(0,o.reload)()}));var l=o.doc.createElement("button");l.id="deleteBackground",l.textContent="Delete Background!",l.classList.add("btn"),l.classList.add("btn-dark"),o.doc.getElementById("buttonPlace").appendChild(l),o.doc.getElementById("deleteBackground").addEventListener("click",(function(){o.editor.getGame().getBackground().delete(),(0,o.reload)()}));var c=o.doc.createElement("input");c.type="color",c.id="colorPicker",(t=o.doc.createElement("p")).textContent="Choose color of background:",o.doc.getElementById("tileEditingPlace").appendChild(t),o.doc.getElementById("tileEditingPlace").appendChild(c)}},977:(e,t,n)=>{t.__esModule=!0,t.Game=void 0;var o=n(407),i=n(592),a=function(){function e(){this.name="",this.author="",this.path=new o.Path,this.numOfPlayers=0,this.tiles=[],this.background=new i.Background}return e.prototype.removeTile=function(e){this.tiles=this.tiles.filter((function(t){return t!=e}))},e.prototype.setPath=function(e){this.path=e},e.prototype.getPath=function(){return this.path},e.prototype.setNumOfPlayers=function(e){this.numOfPlayers=e},e.prototype.getnumOfPlayers=function(){return this.numOfPlayers},e.prototype.setTiles=function(e){this.tiles=e},e.prototype.getTiles=function(){return this.tiles},e.prototype.addTile=function(e){console.log("aspon spustil"),this.tiles.push(e)},e.prototype.getAuthor=function(){return this.author},e.prototype.setAuthor=function(e){this.author=e},e.prototype.getName=function(){return this.name},e.prototype.setName=function(e){this.name=e},e.prototype.getBackground=function(){return this.background},e.prototype.setBackground=function(e){this.background=e},e}();t.Game=a},127:(e,t,n)=>{t.__esModule=!0,t.GameEditor=void 0;var o=n(164),i=n(210),a=n(977),d=n(792),r=function(){function e(){this.game=new a.Game,this.choosenTile=void 0,this.initNewGame()}return e.prototype.initNewGame=function(){this.game=new a.Game,console.log(this.getGame())},e.prototype.initTile=function(e,t,n,a,d,r,l,c){var s=new i.Tile("",e.x,e.y,e.x-n,e.x+n,e.y-n,e.y+n,n,t);0!=a&&(s.setStroke(a),s.setStrokeColor(d)),null!=l&&s.setBackgroundFile(l),null!=c&&s.setPatternFile(c),s.setShape(r),this.game.addTile(s),s.drawTile(o.canvas,o.ctx)},e.prototype.findTile=function(e){for(var t=(0,o.calibreEventCoords)(e),n=this.game.getTiles(),i=n.length-1;i>=0;i--)if(n[i].isPointedAt(t.x,t.y)){n[i]==this.choosenTile?(n[i].setIsChoosen(!1),this.choosenTile=void 0):(null!=this.choosenTile&&this.choosenTile.setIsChoosen(!1),n[i].setIsChoosen(!0),this.choosenTile=n[i],d.isMoving||(0,d.editTiles)());break}},e.prototype.deleteTile=function(e){for(var t=(0,o.calibreEventCoords)(e),n=this.game.getTiles(),i=n.length-1;i>=0;i--)if(n[i].isPointedAt(t.x,t.y)){this.game.removeTile(n[i]);break}},e.prototype.updateChoosenTile=function(e,t,n,o,i,a,d){var r,l,c,s,h,u,g;null===(r=this.choosenTile)||void 0===r||r.setColor(e),null===(l=this.choosenTile)||void 0===l||l.setRadius(t),null===(c=this.choosenTile)||void 0===c||c.setShape(a),null===(s=this.choosenTile)||void 0===s||s.setBackgroundFile(d),n?(null===(h=this.choosenTile)||void 0===h||h.setStroke(o),null===(u=this.choosenTile)||void 0===u||u.setStrokeColor(i)):null===(g=this.choosenTile)||void 0===g||g.setStroke(0)},e.prototype.moveTile=function(e){var t,n,i,a,d,r,l,c,s,h,u=(0,o.calibreEventCoords)(e);null===(t=this.choosenTile)||void 0===t||t.setCenterX(u.x),null===(n=this.choosenTile)||void 0===n||n.setCenterY(u.y),null===(i=this.choosenTile)||void 0===i||i.setX1(u.x-(null===(a=this.choosenTile)||void 0===a?void 0:a.getRadius())),null===(d=this.choosenTile)||void 0===d||d.setX2(u.x+(null===(r=this.choosenTile)||void 0===r?void 0:r.getRadius())),null===(l=this.choosenTile)||void 0===l||l.setY1(u.y-(null===(c=this.choosenTile)||void 0===c?void 0:c.getRadius())),null===(s=this.choosenTile)||void 0===s||s.setY2(u.y+(null===(h=this.choosenTile)||void 0===h?void 0:h.getRadius()))},e.prototype.makeAllTilesNotChoosen=function(){this.game.getTiles().forEach((function(e){e.setIsChoosen(!1)})),this.choosenTile=void 0},e.prototype.getGame=function(){return this.game},e.prototype.setGame=function(e){this.game=e},e.prototype.getChoosenTile=function(){return this.choosenTile},e}();t.GameEditor=r},407:(e,t)=>{t.__esModule=!0,t.Path=void 0;var n=function(){function e(){this.path=[],this.type="",this.tilesNumber=0,this.length=0,this.toggle=!0}return e.prototype.add=function(e){this.path.push(e)},e.prototype.makeLastPointEnding=function(){this.path[this.path.length-1].setEnd(!0)},e.prototype.setType=function(e){this.type=e},e.prototype.getType=function(){return this.type},e.prototype.getPath=function(){return this.path},e.prototype.setPath=function(e){this.path=e},e}();t.Path=n},89:(e,t,n)=>{t.__esModule=!0,t.endDrawingPath=t.saveEditingTrack=t.editTrack=void 0;var o=n(164),i=n(990),a=n(792),d=!1;function r(){o.editor.getGame().getPath().setPath([]),(0,o.reload)(),o.canvas.addEventListener("mousemove",h),o.canvas.addEventListener("mousedown",s),o.canvas.addEventListener("mouseenter",s)}function l(){o.editor.getGame().getPath().setPath([]),(0,o.reload)(),o.canvas.removeEventListener("mousemove",h),o.canvas.removeEventListener("mousedown",s),o.canvas.removeEventListener("mouseenter",s)}t.editTrack=function(){(0,a.removeAllButtons)(),(0,a.removeAllListenersAdded)();var e=document.createElement("button");e.id="start",e.textContent="Start Inserting!",e.classList.add("btn"),e.classList.add("btn-dark"),document.getElementById("buttonPlace").appendChild(e),document.getElementById("start").addEventListener("click",r);var t=document.createElement("button");t.id="spawn",t.textContent="Spawn Tiles!",t.classList.add("btn"),t.classList.add("btn-dark"),document.getElementById("buttonPlace").appendChild(t),document.getElementById("spawn").addEventListener("click",u);var n=document.createElement("button");n.id="end",n.textContent="End Inserting!",n.classList.add("btn"),n.classList.add("btn-dark"),document.getElementById("buttonPlace").appendChild(n),document.getElementById("end").addEventListener("click",l),(0,a.spawnElements)()},t.saveEditingTrack=function(){l(),o.editor.getGame().getPath().getPath(),(0,o.elementDeleter)("buttonPlace"),(0,o.mainMenu)()},t.endDrawingPath=l;var c={x:0,y:0,end:!1};function s(e){var t=(0,o.calibreEventCoords)(e);t.x<0?c.x=0:t.x>o.ctx.canvas.width?c.x=o.ctx.canvas.width:c.x=t.x,t.y<0?c.y=0:t.y>o.ctx.canvas.height?c.y=o.ctx.canvas.height:c.y=t.y}function h(e){if(1===e.buttons){var t=(0,o.calibreEventCoords)(e);o.editor.getGame().getPath().add(new i.Point(t.x,t.y,c.end)),1!=o.editor.getGame().getPath().getPath().length?(o.ctx.beginPath(),o.ctx.lineWidth=5,o.ctx.lineCap="round",o.ctx.strokeStyle="#c0392b",o.ctx.moveTo(c.x,c.y),s(e),o.ctx.lineTo(c.x,c.y),o.ctx.stroke()):o.ctx.moveTo(t.x,t.y)}}function u(){o.editor.getGame().getPath().getPath().forEach((function(e){var t,n;t=e.getX(),n=e.getY(),d=!0,o.editor.getGame().getTiles().forEach((function(e){Math.sqrt(Math.pow(t-e.getCenterX(),2)+Math.pow(n-e.getCenterY(),2))<=2*e.getRadius()&&(d=!1)})),1==d&&((0,a.spawnTile)({x:e.getX(),y:e.getY()}),console.log(o.editor.getGame().getTiles().length))})),l()}},990:(e,t)=>{t.__esModule=!0,t.Point=void 0;var n=function(){function e(e,t,n){this.x=e,this.y=t,this.end=n}return e.prototype.isInRange=function(e,t,n){return Math.sqrt(Math.pow(this.x-e,2)+Math.pow(this.y-t,2))>=n},e.prototype.getX=function(){return this.x},e.prototype.getY=function(){return this.y},e.prototype.getEnd=function(){return this.end},e.prototype.setX=function(e){this.x=e},e.prototype.setY=function(e){this.y=e},e.prototype.setEnd=function(e){this.end=e},e}();t.Point=n},210:(e,t)=>{t.__esModule=!0,t.Tile=void 0;var n=function(){function e(e,t,n,o,i,a,d,r,l){this.isOccupied=!1,this.color="",this.stroke=0,this.strokeColor="",this.shape="circle",this.isChoosen=!1,this.backgroundFile=void 0,this.patternFile=void 0,this.type=e,this.centerX=t,this.centerY=n,this.x1=o,this.x2=i,this.y1=a,this.y2=d,this.color=l,this.radius=r}return e.prototype.drawTile=function(e,t){if(t.beginPath(),null==this.backgroundFile&&null==this.patternFile)t.strokeStyle=this.color,t.lineWidth=0,t.fillStyle=this.color,"circle"==this.shape?t.arc(this.centerX,this.centerY,this.radius,0,2*Math.PI):"square"==this.shape&&t.rect(this.x1,this.y1,2*this.radius,2*this.radius),t.fill();else if(null!=this.backgroundFile)"circle"==this.shape?(t.save(),(i=new Path2D).arc(this.centerX,this.centerY,this.radius,0,2*Math.PI),t.clip(i),t.fillStyle="black",t.arc(this.centerX,this.centerY,this.radius,0,2*Math.PI),t.stroke(),t.drawImage(this.backgroundFile,this.x1,this.y1,2*this.radius,2*this.radius),t.restore()):(t.save(),(i=new Path2D).rect(this.x1,this.y1,2*this.radius,2*this.radius),t.clip(i),t.fillStyle="black",t.rect(this.x1,this.y1,2*this.radius,2*this.radius),t.stroke(),t.drawImage(this.backgroundFile,this.x1,this.y1,2*this.radius,2*this.radius),t.restore());else if(null!=this.patternFile)if("circle"==this.shape){t.save(),(i=new Path2D).arc(this.centerX,this.centerY,this.radius,0,2*Math.PI),t.clip(i),t.fillStyle="black",t.arc(this.centerX,this.centerY,this.radius,0,2*Math.PI),t.stroke();for(var n=0;20*n+this.x1<this.x2;n++)for(var o=0;20*o+this.y1<this.y2;o++)t.drawImage(this.patternFile,this.x1+20*n,this.y1+20*o,20,20);t.restore()}else{var i;for(t.save(),(i=new Path2D).rect(this.x1,this.y1,2*this.radius,2*this.radius),t.clip(i),t.fillStyle="black",t.rect(this.x1,this.y1,2*this.radius,2*this.radius),t.stroke(),n=0;20*n+this.x1<this.x2;n++)for(o=0;20*o+this.y1<this.y2;o++)t.drawImage(this.patternFile,this.x1+20*n,this.y1+20*o,20,20);t.restore()}var a;this.stroke>0&&(t.strokeStyle=this.strokeColor,t.lineWidth=this.stroke,t.stroke()),this.isChoosen&&("circle"==this.shape?((a=t.createRadialGradient(this.centerX,this.centerY,this.radius,this.centerX,this.centerY,this.radius+8)).addColorStop(0,"red"),a.addColorStop(.33,"#990000"),a.addColorStop(.66,"pink"),t.lineWidth=15,t.strokeStyle=a,t.stroke()):((a=t.createLinearGradient(this.x1,this.y1,this.x2,this.y2)).addColorStop(0,"red"),a.addColorStop(.33,"#990000"),a.addColorStop(.66,"pink"),t.lineWidth=15,t.strokeStyle=a,t.stroke()))},e.prototype.isPointedAt=function(e,t){return"circle"==this.shape&&Math.sqrt(Math.pow(this.centerX-e,2)+Math.pow(this.centerY-t,2))<=this.radius||"square"==this.shape&&this.x1<=e&&e<=this.x2&&this.y1<=t&&t<=this.y2},e.prototype.setStroke=function(e){this.stroke=e},e.prototype.getStroke=function(){return this.stroke},e.prototype.setStrokeColor=function(e){this.strokeColor=e},e.prototype.getStrokeColor=function(){return this.strokeColor},e.prototype.setShape=function(e){this.shape=e},e.prototype.getShape=function(){return this.shape},e.prototype.setIsChoosen=function(e){this.isChoosen=e},e.prototype.getIsChoosen=function(){return this.isChoosen},e.prototype.setType=function(e){this.type=e},e.prototype.getType=function(){return this.type},e.prototype.setX1=function(e){this.x1=e},e.prototype.getX1=function(){return this.x1},e.prototype.setX2=function(e){this.x2=e},e.prototype.getX2=function(){return this.x2},e.prototype.setY1=function(e){this.y1=e},e.prototype.getY1=function(){return this.y1},e.prototype.setY2=function(e){this.y2=e},e.prototype.getY2=function(){return this.y2},e.prototype.setCenterX=function(e){this.centerX=e},e.prototype.getCenterX=function(){return this.centerX},e.prototype.setCenterY=function(e){this.centerY=e},e.prototype.getCenterY=function(){return this.centerY},e.prototype.setRadius=function(e){this.radius=e},e.prototype.getRadius=function(){return this.radius},e.prototype.setIsOccupied=function(e){this.isOccupied=e},e.prototype.getIsOccupied=function(){return this.isOccupied},e.prototype.setColor=function(e){this.color=e},e.prototype.getColor=function(){return this.color},e.prototype.getBackgroundFile=function(){return this.backgroundFile},e.prototype.setBackgroundFile=function(e){this.backgroundFile=e},e.prototype.getPatternFile=function(){return this.patternFile},e.prototype.setPatternFile=function(e){this.patternFile=e},e}();t.Tile=n},792:(e,t,n)=>{t.__esModule=!0,t.spawnTile=t.spawnElements=t.removeAllListenersAdded=t.removeAllButtons=t.isMoving=t.moveTiles=t.deleteTiles=t.editTiles=t.insertTilesMenu=void 0;var o=n(164),i=n(89),a=!1;t.isMoving=a;var d=void 0,r=void 0,l=function(e){o.editor.findTile(e),(0,o.reload)()},c=function(e){o.editor.deleteTile(e),(0,o.reload)()};function s(){var e=o.doc.createElement("input");e.type="color",e.id="colorPicker";var t=o.doc.createElement("p");t.textContent="Choose color of tile:",o.doc.getElementById("tileEditingPlace").appendChild(t),o.doc.getElementById("tileEditingPlace").appendChild(e);var n=o.doc.createElement("input");n.type="range",n.id="sizeOfTileSlider",n.value="30",n.min="20",n.max="50",n.step="1";var i=o.doc.createElement("paragraph");i.id="tileSizeShower",i.textContent="30",n.oninput=function(){o.doc.getElementById("tileSizeShower").textContent=n.value},(t=o.doc.createElement("p")).textContent="Tile size:",o.doc.getElementById("tileEditingPlace").appendChild(t),o.doc.getElementById("tileEditingPlace").appendChild(n),o.doc.getElementById("tileEditingPlace").appendChild(i);var a=o.doc.createElement("input");a.type="checkbox",a.id="outlineChecker",(t=o.doc.createElement("p")).textContent="Tile have outline? (checkbox)";var l=o.doc.createElement("paragraph");l.id="hasOutlineShower",l.textContent="no",a.oninput=function(){a.checked?o.doc.getElementById("hasOutlineShower").textContent="yes":o.doc.getElementById("hasOutlineShower").textContent="no"},o.doc.getElementById("tileEditingPlace").appendChild(t),o.doc.getElementById("tileEditingPlace").appendChild(a),o.doc.getElementById("tileEditingPlace").appendChild(l);var c=o.doc.createElement("input");c.type="color",c.id="outlineColorPicker",(t=o.doc.createElement("p")).textContent="Choose color of outline:",o.doc.getElementById("tileEditingPlace").appendChild(t),o.doc.getElementById("tileEditingPlace").appendChild(c);var s=o.doc.createElement("input");s.type="range",s.id="sizeOfOutlineSlider",s.value="3",s.min="1",s.max="10",s.step="1";var h=o.doc.createElement("paragraph");h.id="tileOutlineSizeShower",h.textContent="3",s.oninput=function(){o.doc.getElementById("tileOutlineSizeShower").textContent=s.value},(t=o.doc.createElement("p")).textContent="Outline size:",o.doc.getElementById("tileEditingPlace").appendChild(t),o.doc.getElementById("tileEditingPlace").appendChild(s),o.doc.getElementById("tileEditingPlace").appendChild(h),(t=o.doc.createElement("p")).textContent="Choose Shape:",o.doc.getElementById("tileEditingPlace").appendChild(t);var u=o.doc.createElement("select");u.id="shapeMenu",u.classList.add("btn"),u.classList.add("btn-dark");for(var g=["circle","square"],p=0;p<g.length;p++){var m=o.doc.createElement("option");m.value=g[p],m.text=g[p],u.appendChild(m)}o.doc.getElementById("tileEditingPlace").appendChild(t),o.doc.getElementById("tileEditingPlace").appendChild(u),(t=o.doc.createElement("p")).textContent="Choose pattern image:",o.doc.getElementById("tileEditingPlace").appendChild(t);var y=o.doc.createElement("input");y.type="checkbox",y.id="patternChecker",(t=o.doc.createElement("p")).textContent="Tile have pattern from images? (checkbox)";var v=o.doc.createElement("paragraph");v.id="hasPatternImageShower",v.textContent="no",y.oninput=function(){y.checked?o.doc.getElementById("hasPatternImageShower").textContent="yes":o.doc.getElementById("hasPatternImageShower").textContent="no"},o.doc.getElementById("tileEditingPlace").appendChild(t),o.doc.getElementById("tileEditingPlace").appendChild(y),o.doc.getElementById("tileEditingPlace").appendChild(v);var E=o.doc.createElement("input");E.id="tileImage",E.type="file",E.accept=".jpg, .jpeg, .png",E.textContent="Choose an Image!",E.oninput=function(){E.files.length>0?(r=new Image).src=URL.createObjectURL(E.files[0]):r=void 0},o.doc.getElementById("tileEditingPlace").appendChild(E),(t=o.doc.createElement("p")).textContent="Choose background image:",o.doc.getElementById("tileEditingPlace").appendChild(t);var f=o.doc.createElement("input");f.type="checkbox",f.id="backgroundChecker",(t=o.doc.createElement("p")).textContent="Tile have background image? (checkbox)";var k=o.doc.createElement("paragraph");k.id="hasBackgroundImageShower",k.textContent="no",f.oninput=function(){f.checked?o.doc.getElementById("hasBackgroundImageShower").textContent="yes":o.doc.getElementById("hasBackgroundImageShower").textContent="no"},o.doc.getElementById("tileEditingPlace").appendChild(t),o.doc.getElementById("tileEditingPlace").appendChild(f),o.doc.getElementById("tileEditingPlace").appendChild(k);var C=o.doc.createElement("input");C.id="tileImage",C.type="file",C.accept=".jpg, .jpeg, .png",C.textContent="Choose an Image!",C.oninput=function(){C.files.length>0?(d=new Image).src=URL.createObjectURL(C.files[0]):d=void 0},o.doc.getElementById("tileEditingPlace").appendChild(C)}function h(){u(),g(),o.editor.makeAllTilesNotChoosen(),(0,o.reload)(),(0,o.mainMenu)()}function u(){(0,o.elementDeleter)("buttonPlace"),(0,o.elementDeleter)("numOfPlayersPlace"),(0,o.elementDeleter)("gameTypePlace"),(0,o.elementDeleter)("gameNamePlace"),(0,o.elementDeleter)("tileEditingPlace")}function g(){o.canvas.removeEventListener("mousemove",E),o.canvas.removeEventListener("mousedown",E),o.canvas.removeEventListener("mousedown",p),o.canvas.removeEventListener("click",l),o.canvas.removeEventListener("click",c),(0,i.endDrawingPath)()}t.spawnElements=s,t.insertTilesMenu=function e(){g(),o.editor.makeAllTilesNotChoosen(),(0,o.reload)(),u(),o.canvas.addEventListener("click",l);var t=o.doc.createElement("button");t.id="Save",t.textContent="Save!",t.classList.add("btn"),t.classList.add("btn-dark"),o.doc.getElementById("buttonPlace").appendChild(t),o.doc.getElementById("Save").addEventListener("click",(function(){h()}));var n=o.doc.createElement("button");n.id="drawPath",n.textContent="Draw Path!!",n.classList.add("btn"),n.classList.add("btn-dark"),o.doc.getElementById("buttonPlace").appendChild(n),o.doc.getElementById("drawPath").addEventListener("click",(function(){(0,i.editTrack)()}));var a=o.doc.createElement("button");a.id="startInsertingButton",a.textContent="Insert by one!",a.classList.add("btn"),a.classList.add("btn-dark"),o.doc.getElementById("buttonPlace").appendChild(a),o.doc.getElementById("startInsertingButton").addEventListener("click",(function(){!function(t){t.getElementById("canvasPlace").style.cursor="grabbing",u(),g(),o.canvas.addEventListener("mousedown",p);var n=t.createElement("button");n.id="endInsertingButton",n.textContent="Stop inserting!",n.classList.add("btn"),n.classList.add("btn-dark"),t.getElementById("buttonPlace").appendChild(n),t.getElementById("endInsertingButton").addEventListener("click",(function(){e(),o.canvas.removeEventListener("mousedown",p),t.getElementById("canvasPlace").style.cursor="default"})),s()}(o.doc)}))},t.editTiles=function(){g(),o.canvas.addEventListener("click",l),u(),t.isMoving=a=!1;var e=o.doc.createElement("button");e.id="Save",e.textContent="Save!",e.classList.add("btn"),e.classList.add("btn-dark"),o.doc.getElementById("buttonPlace").appendChild(e),o.doc.getElementById("Save").addEventListener("click",(function(){u(),g(),o.editor.makeAllTilesNotChoosen(),(0,o.reload)(),(0,o.mainMenu)()}));var n=o.doc.createElement("button");n.id="Update",n.textContent="Edit button!",n.classList.add("btn"),n.classList.add("btn-dark"),o.doc.getElementById("buttonPlace").appendChild(n),o.doc.getElementById("Update").addEventListener("click",y),s(),v()},t.moveTiles=function(){(0,i.endDrawingPath)(),o.doc.getElementById("canvasPlace").style.cursor="grabbing",o.editor.makeAllTilesNotChoosen(),(0,o.reload)(),t.isMoving=a=!0,u(),o.canvas.addEventListener("click",l),o.canvas.addEventListener("mousemove",E),o.canvas.addEventListener("mousedown",E)},t.deleteTiles=function(){o.doc.getElementById("canvasPlace").style.cursor="grabbing",g(),u();var e=document.createElement("button");e.id="End",e.textContent="End deleting!",e.classList.add("btn"),e.classList.add("btn-dark"),document.getElementById("buttonPlace").appendChild(e),e.addEventListener("click",h),o.canvas.addEventListener("click",c)},t.removeAllButtons=u,t.removeAllListenersAdded=g;var p=function(e){var t=(0,o.calibreEventCoords)(e);m(t)},m=function(e){var t=o.doc.getElementById("sizeOfTileSlider"),n=o.doc.getElementById("colorPicker"),i=o.doc.getElementById("sizeOfOutlineSlider"),a=o.doc.getElementById("outlineColorPicker"),l=o.doc.getElementById("outlineChecker"),c=o.doc.getElementById("shapeMenu"),s=o.doc.getElementById("backgroundChecker"),h=o.doc.getElementById("patternChecker"),u=d,g=r;s.checked||(u=void 0),h.checked||(g=void 0),l.checked?o.editor.initTile(e,n.value,parseInt(t.value),parseInt(i.value),a.value,c.value,u,g):o.editor.initTile(e,n.value,parseInt(t.value),0,"",c.value,u,g),(0,o.reload)()};t.spawnTile=m;var y=function(){var e=o.doc.getElementById("sizeOfTileSlider"),t=o.doc.getElementById("colorPicker"),n=o.doc.getElementById("sizeOfOutlineSlider"),i=o.doc.getElementById("outlineColorPicker"),a=o.doc.getElementById("outlineChecker"),r=o.doc.getElementById("shapeMenu"),l=o.doc.getElementById("backgroundChecker"),c=d;l.checked||(c=void 0),o.editor.updateChoosenTile(t.value,parseInt(e.value),a.checked,parseInt(n.value),i.value,r.value,c),(0,o.reload)()},v=function(){var e;if(null!=o.editor.getChoosenTile()){var t=o.doc.getElementById("sizeOfTileSlider"),n=o.doc.getElementById("colorPicker"),i=o.doc.getElementById("sizeOfOutlineSlider"),a=o.doc.getElementById("outlineColorPicker"),d=o.doc.getElementById("outlineChecker"),r=o.doc.getElementById("shapeMenu"),l=o.doc.getElementById("backgroundChecker"),c=o.editor.getChoosenTile();n.value=c.getColor(),t.value=c.getRadius().toString(),i.value=c.getStroke().toString(),a.value=c.getStrokeColor(),d.checked=c.getStroke()>0,d.checked?o.doc.getElementById("hasOutlineShower").textContent="yes":o.doc.getElementById("hasOutlineShower").textContent="no",r.value=c.getShape(),l.checked=null!=(null===(e=o.editor.getChoosenTile())||void 0===e?void 0:e.getBackgroundFile()),l.checked?o.doc.getElementById("hasBackgroundImageShower").textContent="yes":o.doc.getElementById("hasBackgroundImageShower").textContent="no"}},E=function(e){o.editor.moveTile(e),(0,o.reload)()}},164:(e,t,n)=>{t.__esModule=!0,t.reload=t.editor=t.calibreEventCoords=t.ctx=t.canvas=t.clear=t.elementDeleter=t.doc=t.mainMenu=void 0;var o=n(792),i=n(829),a=n(127),d=document;t.doc=d;var r=document.createElement("canvas");t.canvas=r;var l=new a.GameEditor;function c(){var e=document.createElement("input");e.type="range",e.id="numOfPlayers",e.value="2",e.min="1",e.max="6",e.step="1";var t=document.createElement("paragraph");t.id="numShower",t.textContent="2";var n=document.createElement("p");n.textContent="Počet hráčov:",document.getElementById("numOfPlayersPlace").appendChild(n),document.getElementById("numOfPlayersPlace").appendChild(t),e.oninput=function(){document.getElementById("numShower").textContent=e.value},document.getElementById("numOfPlayersPlace").appendChild(e);var o=document.createElement("input");o.id="gameName",(n=document.createElement("p")).textContent="Názov hry:",document.getElementById("gameNamePlace").appendChild(n),document.getElementById("gameNamePlace").appendChild(o);var i=document.createElement("select");i.id="gameType",(n=document.createElement("p")).textContent="Typ hry:",document.getElementById("gameTypePlace").appendChild(n),document.getElementById("gameTypePlace").appendChild(i)}t.editor=l,document.getElementById("canvasPlace").appendChild(r),document.getElementById("editBackground").addEventListener("click",(function(){(0,i.editBackground)()})),document.getElementById("insertTiles").addEventListener("click",(function(){(0,o.insertTilesMenu)()})),document.getElementById("moveTiles").addEventListener("click",(function(){(0,o.moveTiles)()})),document.getElementById("editTiles").addEventListener("click",(function(){(0,o.editTiles)()})),document.getElementById("deleteTiles").addEventListener("click",(function(){(0,o.deleteTiles)()})),c(),t.mainMenu=c;var s=r.getContext("2d");function h(){s.canvas.width=window.innerWidth/3*2-30,s.canvas.height=window.innerHeight-70,u()}function u(){s.clearRect(0,0,r.width,r.height),null!=l.getGame().getBackground()&&l.getGame().getBackground().draw();for(var e=0,t=l.getGame().getPath().getPath().length;e<t-1;){var n=l.getGame().getPath().getPath()[e],o=l.getGame().getPath().getPath()[e+1];n.getEnd()||(s.lineWidth=5,s.lineCap="round",s.lineJoin="round",s.strokeStyle="#c0392b",s.moveTo(n.getX(),n.getY()),s.lineTo(o.getX(),o.getY()),Math.sqrt(Math.pow(n.getX()-o.getX(),2)+Math.pow(n.getY()-o.getY(),2)),s.stroke()),e++}l.getGame().getTiles().forEach((function(e){e.drawTile(r,s)}))}t.ctx=s,h(),window.addEventListener("resize",h),t.reload=u,t.clear=function(){l.getGame().getPath().setPath([]),s.clearRect(0,0,r.width,r.height)},t.elementDeleter=function(e){for(var t,n;null!=(null===(t=document.getElementById(e))||void 0===t?void 0:t.lastChild);)null===(n=document.getElementById(e))||void 0===n||n.removeChild(document.getElementById(e).lastChild)},t.calibreEventCoords=function(e){return{x:e.clientX-18,y:e.clientY-54}}}},t={};!function n(o){var i=t[o];if(void 0!==i)return i.exports;var a=t[o]={exports:{}};return e[o](a,a.exports,n),a.exports}(164)})();